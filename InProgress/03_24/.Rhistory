inter$z12[inter$optotrak.pulse.number==i] <- na.approx(inter$z12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
View(clean)
View(clean)
inter=level3
inter=inter[c(1,2,3,4,5),]
inter
inter=level3
inter=inter[,c(1,2,3,4,5)]
inter
View(inter)
inter=level3
inter=inter[,c(1,2,3,4,5,9,10,11,15,16,17,21,22,23)]
View(inter)
inter$x1=as.numeric(inter$x1)
inter$x2=as.numeric(inter$x2)
inter$x3=as.numeric(inter$x3)
inter$x1=as.numeric(inter$x1)
inter$x2=as.numeric(inter$x2)
inter$x3=as.numeric(inter$x3)
inter$x4=as.numeric(inter$x4)
inter$x5=as.numeric(inter$x5)
inter$x6=as.numeric(inter$x6)
inter$x7=as.numeric(inter$x7)
inter$x8=as.numeric(inter$x8)
inter$x9=as.numeric(inter$x9)
inter$x10=as.numeric(inter$x10)
inter$x11=as.numeric(inter$x11)
inter$x12=as.numeric(inter$x12)
inter$y1=as.numeric(inter$y1)
inter$y2=as.numeric(inter$y2)
inter$y3=as.numeric(inter$y3)
inter$y4=as.numeric(inter$y4)
inter$y5=as.numeric(inter$y5)
inter$y6=as.numeric(inter$y6)
inter$y7=as.numeric(inter$y7)
inter$y8=as.numeric(inter$y8)
inter$y9=as.numeric(inter$y9)
inter$y10=as.numeric(inter$y10)
inter$y11=as.numeric(inter$y11)
inter$y12=as.numeric(inter$y12)
inter$z1=as.numeric(inter$z1)
inter$z2=as.numeric(inter$z2)
inter$z3=as.numeric(inter$z3)
inter$z4=as.numeric(inter$z4)
inter$z5=as.numeric(inter$z5)
inter$z6=as.numeric(inter$z6)
inter$z7=as.numeric(inter$z7)
inter$z8=as.numeric(inter$z8)
inter$z9=as.numeric(inter$z9)
inter$z10=as.numeric(inter$z10)
inter$z11=as.numeric(inter$z11)
inter$z12=as.numeric(inter$z12)
View(inter)
#settings for interpolation
N=30 #where to iter to
S=8   #the trial to start interpolating for
M=100 #sets the max number of consecutive NA's to interpolate values for
N=30 #where to iter to
S=8   #the trial to start interpolating for
M=450 #sets the max number of consecutive NA's to interpolate values for
N=30 #where to iter to
S=8   #the trial to start interpolating for
M=100 #sets the max number of consecutive NA's to interpolate values for
for (i in S:N){
inter$x1[inter$optotrak.pulse.number==i] <- na.approx(inter$x1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y1[inter$optotrak.pulse.number==i] <- na.approx(inter$y1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z1[inter$optotrak.pulse.number==i] <- na.approx(inter$z1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x2[inter$optotrak.pulse.number==i] <- na.approx(inter$x2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y2[inter$optotrak.pulse.number==i] <- na.approx(inter$y2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z2[inter$optotrak.pulse.number==i] <- na.approx(inter$z2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x3[inter$optotrak.pulse.number==i] <- na.approx(inter$x3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y3[inter$optotrak.pulse.number==i] <- na.approx(inter$y3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z3[inter$optotrak.pulse.number==i] <- na.approx(inter$z3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x5[inter$optotrak.pulse.number==i] <- na.approx(inter$x5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y5[inter$optotrak.pulse.number==i] <- na.approx(inter$y5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z5[inter$optotrak.pulse.number==i] <- na.approx(inter$z5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x7[inter$optotrak.pulse.number==i] <- na.approx(inter$x7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y7[inter$optotrak.pulse.number==i] <- na.approx(inter$y7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z7[inter$optotrak.pulse.number==i] <- na.approx(inter$z7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
warnings()
View(inter)
View(optoLog)
write.csv(optoLog,file="optoLog.csv",row.names=F)
levels(inter$optotrak.pulse.number)
bad=c(1:7,31) #trials to remove
x=length(bad)
level3=clean
for (i in 1:x){
level3=level3[level3$optotrak.pulse.number!=bad[i],]
}
inter=level3
inter=inter[,c(1,2,3,4,5,9,10,11,15,16,17,21,22,23)]
inter$x1=as.numeric(inter$x1)
inter$x2=as.numeric(inter$x2)
inter$x3=as.numeric(inter$x3)
inter$x4=as.numeric(inter$x4)
inter$x5=as.numeric(inter$x5)
inter$x6=as.numeric(inter$x6)
inter$x7=as.numeric(inter$x7)
inter$x8=as.numeric(inter$x8)
inter$x9=as.numeric(inter$x9)
inter$x10=as.numeric(inter$x10)
inter$x11=as.numeric(inter$x11)
inter$x12=as.numeric(inter$x12)
inter$y1=as.numeric(inter$y1)
inter$y2=as.numeric(inter$y2)
inter$y3=as.numeric(inter$y3)
inter$y4=as.numeric(inter$y4)
inter$y5=as.numeric(inter$y5)
inter$y6=as.numeric(inter$y6)
inter$y7=as.numeric(inter$y7)
inter$y8=as.numeric(inter$y8)
inter$y9=as.numeric(inter$y9)
inter$y10=as.numeric(inter$y10)
inter$y11=as.numeric(inter$y11)
inter$y12=as.numeric(inter$y12)
inter$z1=as.numeric(inter$z1)
inter$z2=as.numeric(inter$z2)
inter$z3=as.numeric(inter$z3)
inter$z4=as.numeric(inter$z4)
inter$z5=as.numeric(inter$z5)
inter$z6=as.numeric(inter$z6)
inter$z7=as.numeric(inter$z7)
inter$z8=as.numeric(inter$z8)
inter$z9=as.numeric(inter$z9)
inter$z10=as.numeric(inter$z10)
inter$z11=as.numeric(inter$z11)
inter$z12=as.numeric(inter$z12)
N=30 #where to iter to
S=8   #the trial to start interpolating for
M=100 #sets the max number of consecutive NA's to interpolate values for
for (i in S:N){
inter$x1[inter$optotrak.pulse.number==i] <- na.approx(inter$x1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y1[inter$optotrak.pulse.number==i] <- na.approx(inter$y1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z1[inter$optotrak.pulse.number==i] <- na.approx(inter$z1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x2[inter$optotrak.pulse.number==i] <- na.approx(inter$x2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y2[inter$optotrak.pulse.number==i] <- na.approx(inter$y2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z2[inter$optotrak.pulse.number==i] <- na.approx(inter$z2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x3[inter$optotrak.pulse.number==i] <- na.approx(inter$x3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y3[inter$optotrak.pulse.number==i] <- na.approx(inter$y3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z3[inter$optotrak.pulse.number==i] <- na.approx(inter$z3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x4[inter$optotrak.pulse.number==i] <- na.approx(inter$x4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y4[inter$optotrak.pulse.number==i] <- na.approx(inter$y4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z4[inter$optotrak.pulse.number==i] <- na.approx(inter$z4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x5[inter$optotrak.pulse.number==i] <- na.approx(inter$x5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y5[inter$optotrak.pulse.number==i] <- na.approx(inter$y5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z5[inter$optotrak.pulse.number==i] <- na.approx(inter$z5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x6[inter$optotrak.pulse.number==i] <- na.approx(inter$x6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y6[inter$optotrak.pulse.number==i] <- na.approx(inter$y6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z6[inter$optotrak.pulse.number==i] <- na.approx(inter$z6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x7[inter$optotrak.pulse.number==i] <- na.approx(inter$x7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y7[inter$optotrak.pulse.number==i] <- na.approx(inter$y7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z7[inter$optotrak.pulse.number==i] <- na.approx(inter$z7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x8[inter$optotrak.pulse.number==i] <- na.approx(inter$x8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y8[inter$optotrak.pulse.number==i] <- na.approx(inter$y8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z8[inter$optotrak.pulse.number==i] <- na.approx(inter$z8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x9[inter$optotrak.pulse.number==i] <- na.approx(inter$x9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y9[inter$optotrak.pulse.number==i] <- na.approx(inter$y9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z9[inter$optotrak.pulse.number==i] <- na.approx(inter$z9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x10[inter$optotrak.pulse.number==i] <- na.approx(inter$x10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y10[inter$optotrak.pulse.number==i] <- na.approx(inter$y10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z10[inter$optotrak.pulse.number==i] <- na.approx(inter$z10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x11[inter$optotrak.pulse.number==i] <- na.approx(inter$x11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y11[inter$optotrak.pulse.number==i] <- na.approx(inter$y11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z11[inter$optotrak.pulse.number==i] <- na.approx(inter$z11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x12[inter$optotrak.pulse.number==i] <- na.approx(inter$x12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y12[inter$optotrak.pulse.number==i] <- na.approx(inter$y12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z12[inter$optotrak.pulse.number==i] <- na.approx(inter$z12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
View(inter)
inter$optotrak.pulse.number=factor(inter$optotrak.pulse.number])
inter$optotrak.pulse.number=factor(inter$optotrak.pulse.number)
levels(inter$optotrak.pulse.number)
length(levels(inter$optotrak.pulse.number))
bad=c(1:5,31) #trials to remove
x=length(bad)
level3=clean
for (i in 1:x){
level3=level3[level3$optotrak.pulse.number!=bad[i],]
}
#interpolate the missing values based on
#Hz for all trials, outputs a data frame called inter
inter=level3
inter=inter[,c(1,2,3,4,5,9,10,11,15,16,17,21,22,23)]
inter$optotrak.pulse.number=factor(inter$optotrak.pulse.number)
levels(inter$optotrak.pulse.number)
length(levels(inter$optotrak.pulse.number))
inter$x1=as.numeric(inter$x1)
inter$x2=as.numeric(inter$x2)
inter$x3=as.numeric(inter$x3)
inter$x4=as.numeric(inter$x4)
inter$x5=as.numeric(inter$x5)
inter$x6=as.numeric(inter$x6)
inter$x7=as.numeric(inter$x7)
inter$x8=as.numeric(inter$x8)
inter$x9=as.numeric(inter$x9)
inter$x10=as.numeric(inter$x10)
inter$x11=as.numeric(inter$x11)
inter$x12=as.numeric(inter$x12)
inter$y1=as.numeric(inter$y1)
inter$y2=as.numeric(inter$y2)
inter$y3=as.numeric(inter$y3)
inter$y4=as.numeric(inter$y4)
inter$y5=as.numeric(inter$y5)
inter$y6=as.numeric(inter$y6)
inter$y7=as.numeric(inter$y7)
inter$y8=as.numeric(inter$y8)
inter$y9=as.numeric(inter$y9)
inter$y10=as.numeric(inter$y10)
inter$y11=as.numeric(inter$y11)
inter$y12=as.numeric(inter$y12)
inter$z1=as.numeric(inter$z1)
inter$z2=as.numeric(inter$z2)
inter$z3=as.numeric(inter$z3)
inter$z4=as.numeric(inter$z4)
inter$z5=as.numeric(inter$z5)
inter$z6=as.numeric(inter$z6)
inter$z7=as.numeric(inter$z7)
inter$z8=as.numeric(inter$z8)
inter$z9=as.numeric(inter$z9)
inter$z10=as.numeric(inter$z10)
inter$z11=as.numeric(inter$z11)
inter$z12=as.numeric(inter$z12)
#settings for interpolation
N=30 #where to iter to
S=8   #the trial to start interpolating for
M=100 #sets the max number of consecutive NA's to interpolate values for
View(optoLog)
View(optoLog)
View(inter)
##remove bad trials as determined by notes and presentation output
bad=c(1:7,31) #trials to remove
x=length(bad)
level3=clean
for (i in 1:x){
level3=level3[level3$optotrak.pulse.number!=bad[i],]
}
#interpolate the missing values based on
#Hz for all trials, outputs a data frame called inter
inter=level3
inter=inter[,c(1,2,3,4,5,9,10,11,15,16,17,21,22,23)]
inter$optotrak.pulse.number=factor(inter$optotrak.pulse.number)
levels(inter$optotrak.pulse.number)
length(levels(inter$optotrak.pulse.number))
#----Convert coordinate data into numeric for interpolation----
inter$x1=as.numeric(inter$x1)
inter$x2=as.numeric(inter$x2)
inter$x3=as.numeric(inter$x3)
inter$x4=as.numeric(inter$x4)
inter$x5=as.numeric(inter$x5)
inter$x6=as.numeric(inter$x6)
inter$x7=as.numeric(inter$x7)
inter$x8=as.numeric(inter$x8)
inter$x9=as.numeric(inter$x9)
inter$x10=as.numeric(inter$x10)
inter$x11=as.numeric(inter$x11)
inter$x12=as.numeric(inter$x12)
inter$y1=as.numeric(inter$y1)
inter$y2=as.numeric(inter$y2)
inter$y3=as.numeric(inter$y3)
inter$y4=as.numeric(inter$y4)
inter$y5=as.numeric(inter$y5)
inter$y6=as.numeric(inter$y6)
inter$y7=as.numeric(inter$y7)
inter$y8=as.numeric(inter$y8)
inter$y9=as.numeric(inter$y9)
inter$y10=as.numeric(inter$y10)
inter$y11=as.numeric(inter$y11)
inter$y12=as.numeric(inter$y12)
inter$z1=as.numeric(inter$z1)
inter$z2=as.numeric(inter$z2)
inter$z3=as.numeric(inter$z3)
inter$z4=as.numeric(inter$z4)
inter$z5=as.numeric(inter$z5)
inter$z6=as.numeric(inter$z6)
inter$z7=as.numeric(inter$z7)
inter$z8=as.numeric(inter$z8)
inter$z9=as.numeric(inter$z9)
inter$z10=as.numeric(inter$z10)
inter$z11=as.numeric(inter$z11)
inter$z12=as.numeric(inter$z12)
N=30 #where to iter to
S=8   #the trial to start interpolating for
M=500 #sets the max number of consecutive NA's to interpolate values for
for (i in S:N){
inter$x1[inter$optotrak.pulse.number==i] <- na.approx(inter$x1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y1[inter$optotrak.pulse.number==i] <- na.approx(inter$y1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z1[inter$optotrak.pulse.number==i] <- na.approx(inter$z1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x2[inter$optotrak.pulse.number==i] <- na.approx(inter$x2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y2[inter$optotrak.pulse.number==i] <- na.approx(inter$y2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z2[inter$optotrak.pulse.number==i] <- na.approx(inter$z2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x3[inter$optotrak.pulse.number==i] <- na.approx(inter$x3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y3[inter$optotrak.pulse.number==i] <- na.approx(inter$y3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z3[inter$optotrak.pulse.number==i] <- na.approx(inter$z3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x4[inter$optotrak.pulse.number==i] <- na.approx(inter$x4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y4[inter$optotrak.pulse.number==i] <- na.approx(inter$y4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z4[inter$optotrak.pulse.number==i] <- na.approx(inter$z4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x5[inter$optotrak.pulse.number==i] <- na.approx(inter$x5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y5[inter$optotrak.pulse.number==i] <- na.approx(inter$y5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z5[inter$optotrak.pulse.number==i] <- na.approx(inter$z5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x6[inter$optotrak.pulse.number==i] <- na.approx(inter$x6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y6[inter$optotrak.pulse.number==i] <- na.approx(inter$y6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z6[inter$optotrak.pulse.number==i] <- na.approx(inter$z6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x7[inter$optotrak.pulse.number==i] <- na.approx(inter$x7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y7[inter$optotrak.pulse.number==i] <- na.approx(inter$y7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z7[inter$optotrak.pulse.number==i] <- na.approx(inter$z7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x8[inter$optotrak.pulse.number==i] <- na.approx(inter$x8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y8[inter$optotrak.pulse.number==i] <- na.approx(inter$y8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z8[inter$optotrak.pulse.number==i] <- na.approx(inter$z8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x9[inter$optotrak.pulse.number==i] <- na.approx(inter$x9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y9[inter$optotrak.pulse.number==i] <- na.approx(inter$y9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z9[inter$optotrak.pulse.number==i] <- na.approx(inter$z9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x10[inter$optotrak.pulse.number==i] <- na.approx(inter$x10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y10[inter$optotrak.pulse.number==i] <- na.approx(inter$y10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z10[inter$optotrak.pulse.number==i] <- na.approx(inter$z10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x11[inter$optotrak.pulse.number==i] <- na.approx(inter$x11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y11[inter$optotrak.pulse.number==i] <- na.approx(inter$y11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z11[inter$optotrak.pulse.number==i] <- na.approx(inter$z11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x12[inter$optotrak.pulse.number==i] <- na.approx(inter$x12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y12[inter$optotrak.pulse.number==i] <- na.approx(inter$y12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z12[inter$optotrak.pulse.number==i] <- na.approx(inter$z12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
N=129 #where to iter to
S=32   #the trial to start interpolating for
M=500 #sets the max number of consecutive NA's to interpolate values for
for (i in S:N){
inter$x1[inter$optotrak.pulse.number==i] <- na.approx(inter$x1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y1[inter$optotrak.pulse.number==i] <- na.approx(inter$y1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z1[inter$optotrak.pulse.number==i] <- na.approx(inter$z1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x2[inter$optotrak.pulse.number==i] <- na.approx(inter$x2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y2[inter$optotrak.pulse.number==i] <- na.approx(inter$y2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z2[inter$optotrak.pulse.number==i] <- na.approx(inter$z2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x3[inter$optotrak.pulse.number==i] <- na.approx(inter$x3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y3[inter$optotrak.pulse.number==i] <- na.approx(inter$y3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z3[inter$optotrak.pulse.number==i] <- na.approx(inter$z3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x4[inter$optotrak.pulse.number==i] <- na.approx(inter$x4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y4[inter$optotrak.pulse.number==i] <- na.approx(inter$y4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z4[inter$optotrak.pulse.number==i] <- na.approx(inter$z4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x5[inter$optotrak.pulse.number==i] <- na.approx(inter$x5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y5[inter$optotrak.pulse.number==i] <- na.approx(inter$y5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z5[inter$optotrak.pulse.number==i] <- na.approx(inter$z5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x6[inter$optotrak.pulse.number==i] <- na.approx(inter$x6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y6[inter$optotrak.pulse.number==i] <- na.approx(inter$y6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z6[inter$optotrak.pulse.number==i] <- na.approx(inter$z6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x7[inter$optotrak.pulse.number==i] <- na.approx(inter$x7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y7[inter$optotrak.pulse.number==i] <- na.approx(inter$y7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z7[inter$optotrak.pulse.number==i] <- na.approx(inter$z7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x8[inter$optotrak.pulse.number==i] <- na.approx(inter$x8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y8[inter$optotrak.pulse.number==i] <- na.approx(inter$y8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z8[inter$optotrak.pulse.number==i] <- na.approx(inter$z8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x9[inter$optotrak.pulse.number==i] <- na.approx(inter$x9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y9[inter$optotrak.pulse.number==i] <- na.approx(inter$y9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z9[inter$optotrak.pulse.number==i] <- na.approx(inter$z9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x10[inter$optotrak.pulse.number==i] <- na.approx(inter$x10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y10[inter$optotrak.pulse.number==i] <- na.approx(inter$y10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z10[inter$optotrak.pulse.number==i] <- na.approx(inter$z10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x11[inter$optotrak.pulse.number==i] <- na.approx(inter$x11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y11[inter$optotrak.pulse.number==i] <- na.approx(inter$y11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z11[inter$optotrak.pulse.number==i] <- na.approx(inter$z11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x12[inter$optotrak.pulse.number==i] <- na.approx(inter$x12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y12[inter$optotrak.pulse.number==i] <- na.approx(inter$y12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z12[inter$optotrak.pulse.number==i] <- na.approx(inter$z12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
write.csv(inter,file="inter.csv",row.names=F)
View(inter)
levels(inter$optotrak.pulse.number)
length(levels(inter$optotrak.pulse.number))
inter=level3
inter=inter[,c(1,2,3,4,5,9,10,11,15,16,17,21,22,23)]
inter$optotrak.pulse.number=factor(inter$optotrak.pulse.number)
levels(inter$optotrak.pulse.number)
length(levels(inter$optotrak.pulse.number))
#settings for interpolation
N=129 #where to iter to
S=32   #the trial to start interpolating for
M=500 #sets the max number of consecutive NA's to interpolate values for
for (i in S:N){
inter$x1[inter$optotrak.pulse.number==i] <- na.approx(inter$x1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y1[inter$optotrak.pulse.number==i] <- na.approx(inter$y1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z1[inter$optotrak.pulse.number==i] <- na.approx(inter$z1[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x2[inter$optotrak.pulse.number==i] <- na.approx(inter$x2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y2[inter$optotrak.pulse.number==i] <- na.approx(inter$y2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z2[inter$optotrak.pulse.number==i] <- na.approx(inter$z2[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x3[inter$optotrak.pulse.number==i] <- na.approx(inter$x3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y3[inter$optotrak.pulse.number==i] <- na.approx(inter$y3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z3[inter$optotrak.pulse.number==i] <- na.approx(inter$z3[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x4[inter$optotrak.pulse.number==i] <- na.approx(inter$x4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y4[inter$optotrak.pulse.number==i] <- na.approx(inter$y4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z4[inter$optotrak.pulse.number==i] <- na.approx(inter$z4[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x5[inter$optotrak.pulse.number==i] <- na.approx(inter$x5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y5[inter$optotrak.pulse.number==i] <- na.approx(inter$y5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z5[inter$optotrak.pulse.number==i] <- na.approx(inter$z5[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x6[inter$optotrak.pulse.number==i] <- na.approx(inter$x6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y6[inter$optotrak.pulse.number==i] <- na.approx(inter$y6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z6[inter$optotrak.pulse.number==i] <- na.approx(inter$z6[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x7[inter$optotrak.pulse.number==i] <- na.approx(inter$x7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y7[inter$optotrak.pulse.number==i] <- na.approx(inter$y7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z7[inter$optotrak.pulse.number==i] <- na.approx(inter$z7[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x8[inter$optotrak.pulse.number==i] <- na.approx(inter$x8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y8[inter$optotrak.pulse.number==i] <- na.approx(inter$y8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$z8[inter$optotrak.pulse.number==i] <- na.approx(inter$z8[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
}
for (i in S:N){
inter$x9[inter$optotrak.pulse.number==i] <- na.approx(inter$x9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y9[inter$optotrak.pulse.number==i] <- na.approx(inter$y9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z9[inter$optotrak.pulse.number==i] <- na.approx(inter$z9[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x10[inter$optotrak.pulse.number==i] <- na.approx(inter$x10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y10[inter$optotrak.pulse.number==i] <- na.approx(inter$y10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z10[inter$optotrak.pulse.number==i] <- na.approx(inter$z10[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x11[inter$optotrak.pulse.number==i] <- na.approx(inter$x11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE,maxgap=M)
inter$y11[inter$optotrak.pulse.number==i] <- na.approx(inter$y11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z11[inter$optotrak.pulse.number==i] <- na.approx(inter$z11[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
for (i in S:N){
inter$x12[inter$optotrak.pulse.number==i] <- na.approx(inter$x12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$y12[inter$optotrak.pulse.number==i] <- na.approx(inter$y12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
inter$z12[inter$optotrak.pulse.number==i] <- na.approx(inter$z12[inter$optotrak.pulse.number==i], inter$Hz[inter$optotrak.pulse.number==i], na.rm = TRUE, maxgap=M)
}
